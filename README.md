# 處理國內外關切化學物質清單

## Update 2023/09/26
1. 清單列表請詳見 2023_merged/detail_list_2023.xlsx，以下說明欄位名稱
    * 國內/外(0/1): 如欄位名稱
    * 來源：國內的部分為「部會」名稱；國外的部分為「國家」名稱或「國際組織單位」名稱
    * source： 名稱不可動，和資料庫連動，要修改必須連同資料庫一起修改。
    * 110更新 ~ xxx更新： xxx 為年份，依據年份需求更新，新增在隔壁欄位即可。
    * 舊版編號(不使用)：原程式碼以數字編號，不容易辨識與修正。本次以格式化的命名方式，便於辨識與修正。新版名稱如欄位「資料集編號」
    * 資料集編號：
        > 1. 命名方式為應用在處理前後的資料及名稱，無論是「資料夾」、「壓縮檔」或是任何格式的「檔案」，都以此命名方式命名。
        > 2. 處理前的資料放置位置： 2023_input
        > 3. 處理後的資料放置位置： 2023_processed
        > 4. 此命名方式同時應用在程式碼中：A1_handle_AttnChemList_2023.py
        > 5. 命名規則，以 _ 區隔：
        >> - 第一段：字首 D_ 與 A_：代表「國內 Domestic」或「國外 Abroad」
        >> - 第二段：D_ 與 A_ 後面的英文，為「來源」的英文縮寫，如「環保署」為「moenv」、「歐盟」為「eu」、「聯合國」為「un」...。
        >> - 第三段：數字的部分，若有多個此來源的資料集，依數字從小到大排序。
        >> - 第四段：與第三段相似，若程式上處理方式接近，可以相同 function 處理，寫在相同的 function 中。
    * 112年的網站：資料來源的網頁
    * 112年程式處理狀況：說明資料的大概狀況，讓之後處理的人能夠快速掌握大部分的狀況。
    * 112年更新方法：手動/自動/手動+自動，為欄位「112年程式處理狀況」濃縮版
    * 清單數量相同：確認今年和去年的數量是否一致
    * 更新後的Casno 不在 更新前Casno 的 數量：比較用
    * 更新後的中文名 不在 更新前中文名 的 數量：比較用
    * 更新後的英文名 不在 更新前英文名 的 數量：比較用

    * ...：其他欄位是需求新增


2. 源碼：
    * A0_handle_AttnChemList_2023.py：將舊版的 code 改成 新版的 code的處理程式。（應該不需要使用，已經移轉完畢）
    * A1_handle_AttnChemList_2023.py：處理資料的程式碼，函數名稱與資料集編號（邏輯上）相同，但 function 一般不會有最後面的 _a 或 _b。
    * > 處理的方式包含
      >  - 網頁爬蟲，直接輸出
      >  - 讀取pdf，直接輸出（通常需要額外的手動處理）
      >  - 讀取excel或csv，直接輸出
      >  - 建議手動處理，檔案較少，或是程式處理完全沒有優勢
    * A2_handle_AttnChemList_2023.py：讀取清單列表（2023_merged/detail_list_2023.xlsx），將列表中所有的資料集run一次，將2023_processed中的資料取出，與資料庫比較，確認資料數量、以及是否有缺漏。最後會輸出兩個檔案，分別是資料庫目前的彙整，和手邊資料的彙整。
    * - 2023_merged/AttnChemicalList@今年度整理.xlsx
    * - 2023_merged/AttnChemicalList@db20230926.xlsx
